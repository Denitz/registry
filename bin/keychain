#!/usr/bin/env php
<?php
/**
 * Part of the Joomla Framework Keychain Package
 *
 * @copyright  Copyright (C) 2005 - 2015 Open Source Matters, Inc. All rights reserved.
 * @license    GNU General Public License version 2 or later; see LICENSE
 */

$composerLoaded = false;

foreach (array(__DIR__ . '/../vendor/autoload.php', __DIR__ . '/../../../autoload.php') as $file)
{
	if (file_exists($file))
	{
		require $file;

		$composerLoaded = true;

		break;
	}
}

if (!$composerLoaded)
{
	fwrite(STDERR, 'Composer is not properly set up in this project.');

	exit(1);
}

try
{
	$app = new \Joomla\Keychain\KeychainManager;
	$app->execute();
}
catch (\Exception $e)
{
	echo $e->getMessage() . "\n";
	exit(1);
}
